plugins {
  id 'java'
}

def springBootVersion = '3.0.1'

sourceCompatibility = 17
targetCompatibility = 17

repositories {
  mavenCentral()
}

dependencies {
  implementation platform("org.springframework.boot:spring-boot-dependencies:$springBootVersion")

  implementation 'org.springframework.data:spring-data-r2dbc'
  implementation 'org.flywaydb:flyway-core:9.8.1'
  implementation 'org.flywaydb:flyway-sqlserver:9.8.1'
  runtimeOnly 'io.r2dbc:r2dbc-mssql:1.0.0.RELEASE'
  runtimeOnly 'com.microsoft.sqlserver:mssql-jdbc:11.2.3.jre17'

  testImplementation 'org.springframework.boot:spring-boot-starter-test'
  testImplementation 'org.testcontainers:mssqlserver:1.17.6'
}

test {
  useJUnitPlatform()
}
